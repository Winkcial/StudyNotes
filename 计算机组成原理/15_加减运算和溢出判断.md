# 加减运算和溢出判断

- 原码加减法
- 补码加减法
- 溢出判断
- 符号扩展

## 原码的加减法

加法器直接对原码进行加法运算，可能会出错

原码的加法运算：

- 正 + 正 $\rightarrow$ 绝对值做加法，结果为正
- 负 + 负 $\rightarrow$ 绝对值做加法，结果为负
- 正 + 负 $\rightarrow$ 绝对值大的减绝对值小的，符号同绝对值大的

原码减法运算：

将 $-$ 号，取反转换成加法操作

- 正 - 正 $\rightarrow$ 正 + 负
- 负 - 负 $\rightarrow$ 负 + 正
- 正 - 负 $\rightarrow$ 正 + 正

## 补码的加减运算

## 溢出

A=15,B=-24,C=124

求 $[A+B]_{补}$ 和 $[A+B]_{补}$

$[A+B]_{补}=0,0001111+0,1111100=1,0001011$

对应的真值是 -117 不是预计的 139 这就是溢出

139 超出了 8 bit 所能表示数值范围 -127~128

溢出有上溢和下溢

- 上溢：正+正=负

- 下溢：负+负=正

### 判断溢出

**方法、一**

采用一位符号位，设 A 的符号为 $A_{S}$ , B 的符号为 $B_{s}$ ，运算结果的符号为 $S_{S}$ 

则溢出表达式

$V=A_{S}B_{S}\overline{S_{S}}+\bar{A_{S}}\bar{B_{S}}S_{S}$

若 V=0，表示无溢出

若 V=1，表示有溢出

**方法、二**

采用一位符号位，根据数据位进位情况判断溢出

| | 符号位的进位 $C_{s}$| 最高数值为的进位 $C_{1}$|
|-|:--------------:|:-----:|
|上溢|0|1|
下溢|1|0|

即：$C_{S}$ 与 $C_{1}$ 不同时会有溢出

**方法、三**

采用双符号位

正数符号为 00，负数符号为 11

A=15,B=-24,C=124

$[A+C]_{补}=00,0001111+00,1111100=01,0001011$ 上溢

$[B-C]_{补}=11,1101000+11,0000100=10,1101100$ 下溢

