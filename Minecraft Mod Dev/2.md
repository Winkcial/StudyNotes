## 2.2 配置 MinecraftForge 开发环境

### **2.2.1 下载并解压**

从 MinecraftForge 的官方网站上下载**MDK**类型的压缩文件。可能会看到 Latest 和 Recommended 两个版本。在大部分情况下，作者的建议是下载最新 Recommended 版本，比如作者目前能够下载到的最新 Recommended 版本为 1.12.2-14.23.2.2611。

在开始下载前，可能会经过一个「adfocus」的广告页面，然后单击右上角的按钮就可以下载了。如果打开该页面有困难，那么可以在下面 All Version 列表里找到想要下载的版本，并单击 Mdk 旁边的字母 i，然后单击 Direct Download 就可以直接下载了。不过作者建议尽量不要使用 Direct Download 这一方式下载，因为这会减少 Minecraft Forge 团队的广告收入。

下载后的文件名应该是 forge-1.12.2-xxxxxxxxxxxx-mdk.zip 的形式，作者下载到的文件名为 forge-1.12.2-14.23.2.2611-mdk.zip。把该下载文件中的所有内容解压到一个你想要作为主开发目录的文件夹下。这里对于主开发目录有一点建议，就是这个**目录的绝对路径不要出现非 ASCII 字符，不要出现空格，同时目录名尽量只使用英文字母、数字和下画线**。不满足这些条件的目录，有可能会导致未知的问题。

如无特殊说明，本书接下来所有文件的位置都是基于该主开发目录的相对路径。

### **2.2.2 配置开发环境**

在解压完成后，进入主开发目录（作者将自己的主开发目录定为 D：\fmltutor），确定名为 gradlew.bat 的文件在该目录下，然后在该目录打开控制台，并输入以下命令。

```
gradlew.bat setupDecompWorkspace
```

按下 Enter 键，保持网络畅通，并耐心等一段时间。如果使用 Linux 或者 macOS，那么请把 gradlew.bat 替换为  `./gradlew`。经过一段时间后，应该能够看到下图的画面。

这说明目前 Forge 正在下载相关的文件，这也是配置开发环境时要求网络畅通的原因。直到 BUILD SUCCESSFUL 的字样出现，这代表配置开发环境的工作已经完成第一步了。

当然，在很多情况下，可能并不会等到出现上图所示的字样，取而代之的是 BUILD FAILED。

这通常是以下两种情况导致的：

● 内存不够用（配置开发环境需要至少 3GB，建议有 4GB 的内存空间）。

● 网络条件差（无法顺畅地下载到国外的某些资源）。

对于第一种情况，作者只能希望读者能够为自己的计算机增加内存。

对于第二种情况，读者可以尝试找一些访问国外网站速度更快的网络，必要时可以采取一些辅助措施。

重复执行上面的操作，直到 BUILD SUCCESSFUL 的字样出现，就可以使用 IDE 打开整个 Mod 开发项目了。如果使用的是 IntelliJ IDEA，那么打开主界面后选择 Import Project（导入项目），并选择项目的根目录打开，然后在选项框内选择 Gradle，单击下一步按钮直到 IntelliJ IDEA 配置完成。