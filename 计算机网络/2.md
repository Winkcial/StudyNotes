# 第二天

## CSMA/CD
 载波监听多路访问、冲突检测

- 先听后发
- 边听边发
- 一旦冲突，立即避退

冲突域：会发生冲突的区域
## mac
mac地址：物理地址

8bit=1Byte

一个mac地址有48bit

54-E1-AD-63-FA-F1

前24个bit是OUI organization unique ID

MAC地址被焊在芯片上

### MAC地址的地址类型
- 单播：第八个bit是0就是单波
- 多播：第八个bit是1
- 广播：全是1

### mac地址的通信模式

- 单播：一发一收
- 多播：一发多收
- 广播：一发全收

在一个以太数据帧中，S-MAC地址永远因该是单播mac

d-mac可以是单播、多播或广播

**一个数据若想被发送必须先要完成数据帧的封装。(成帧)**

ARP协议解析目的地址的mac地址

ping 这是一个程序，该程序使用的是 ICMP 协议


a ping b 

过程：

- 先获得b的mac地址，用的是ARP协议

- 保存 b 的 mac 地址

- 保存到自己的ARP表

ip 和 mac 的对应关系

- 封装


重复地址IP探测

(DAA duplicate address detect)

## ip头部

**ipv4的头部是可变长的**

固定20个字节，可变40个字节，最大长度60个字节

版本 ：4 0100

首部长度 总长度 总长度-首部长度=数据长度，这里告诉系统解析到哪里

区分服务 diff-sevr 8bit 用来 
IPP 2^3^
DESCP 2^6^

生存时间TTL 8个bit ，相当于报文的寿命
**特点：**
- 一个报文每跨越一个路由器，TTL值都会减一
- 当一台路由器接收到一个报文的TTL值为0的时候，直接丢弃报文，不再转发

协议，指定上一层的协议
首部校验和，


TCP头部
三次握手，建立链接

四次挥手，

UDP协议

TCP像现代社会的谦谦君子
UDP像社会的野蛮人（抢占资源 ）

ip address 192.168.1.10
gate away


广播域：路由器的接口   
冲突域：交换机的端口  

|hub(集线器)|对信号负责    |
switch(交换机)   对frame负责   mac
router（路由器） 对packet负责 IP

跨跳 hop 
下一跳 next hop

3层IP不变化，2层mac变化会逐跳发生变化

