# 用户管理终端命令

## 创建用户

| 命令                        | 作用         | 说明                                       |
| --------------------------- | ------------ | ------------------------------------------ |
| user -m -g 组名 新用户名    | 添加新用户   | - m自动创建用户家目录- g指定用户所在的组   |
| passwd 用户名               | 设置用户密码 | 如果是普通用户直接使用passwd修改自己的账户 |
| userdel -r 用户名           | 删除用户名   | -r 参数自动删除用户信息                    |
| cat /etc/passwd &#124; grep | 确认用户信息 | 新用户信息会保存在 /etc/passwd             |

## 查看用户

| 命令          | 作用                       |
| ------------- | -------------------------- |
| id [username] | 查看用户 UID 和 GID 信息   |
| who           | 查看当前所有登录的用户列表 |
| whoami        | 查看当前用户的账户名       |

>Tip:uid 用户代号 gid 组代号

### passwd 文件

`/etx/passwd` 文件存放的是用户的信息，由 6 个分号组成的 7 个信息，分别是

- 用户名
- 密码（x,表示加密密码）
- UID (用户标识)
- GID （主组标识）
- 用户全名或本地账号
- 家目录
- 登录使用 Sell,就是登录之后，使用终端命令，`Ubuntu`默认的是 `dash`

## 主组和附加组

- `usermod` 可以用来设置用户的**主组/附加组**和**登录Shell**
- 主组：通常在新建用户时指定，在`etc/passwd的第四列GID对应组
- 附加组：在`/etx/passwd`中最后一列表示该组的用户列表，用于指定用户的附加权限

>Tip:设置了用户的附加组之后，需要重新登录才能生效

命令格式

```
# 修改用户的主组，主组只能有一个。
usermod -g 组名 用户名

# 添加用户的附加组，附加组可以有多个。
usermod -G 组名 用户名

# 修改用户的 Shell 登录
usermod -s /bin/bash 改成了 bash
```

默认使用 `usermod -G sudo 用户名` 添加用户到 sudo 的附加组

### 其他命令

```shell
$ groups 用户A # 查看与用户A在同一组的所有用户
```



## 切换用户

su -用户名

exit 退出

