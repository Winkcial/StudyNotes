
## 类型

| 名称   | 关键字     |
| ---- | ------- |
| 布尔型  | bool    |
| 字符型  | char    |
| 整型   | int     |
| 浮点型  | float   |
| 双浮点型 | double  |
| 无类型  | void    |
| 宽字符型 | wchar_t |

wchar_t  其实是一个 `short int` 类型

```c++
typedef short int wchar_t;
```

一些基本类型可以使用一个或多个类型修饰符进行修饰：singed、unsinged、short、long

| 类型               | 位            | 范围                                                         |
| :----------------- | :------------ | :----------------------------------------------------------- |
| char               | 1 个字节      | -128 ~ 127 或 0 ~ 255                                        |
| unsigned char      | 1 个字节      | 0 ~ 255                                                      |
| signed char        | 1 个字节      | -128 ~ 127                                                   |
| int                | 4 个字节      | -2147483648 ~ 2147483647                                     |
| unsigned int       | 4 个字节      | 0 ~ 4294967295                                               |
| signed int         | 4 个字节      | -2147483648 ~ 2147483647                                     |
| short int          | 2 个字节      | -32768 ~ 32767                                               |
| unsigned short int | 2 个字节      | 0 ~ 65,535                                                   |
| signed short int   | 2 个字节      | -32768 ~ 32767                                               |
| long int           | 8 个字节      | -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807       |
| signed long int    | 8 个字节      | -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807       |
| unsigned long int  | 8 个字节      | 0 ~ 18,446,744,073,709,551,615                               |
| float              | 4 个字节      | 精度型占4个字节（32位）内存空间，+/- 3.4e +/- 38 (~7 个数字) |
| double             | 8 个字节      | 双精度型占8 个字节（64位）内存空间，+/- 1.7e +/- 308 (~15 个数字) |
| long double        | 16 个字节     | 长双精度型 16 个字节（128位）内存空间，可提供18-19位有效数字。 |
| wchar_t            | 2 或 4 个字节 | 1 个宽字符                                                   |

## typedef 声明

您可以使用 **typedef** 为一个已有的类型取一个新的名字和 c 语言中用法一样。

```c++
typedef type newname; 

typedef int feet;
```

## 枚举类型

创建枚举，需要使用关键字 **enum**。

```cpp
enum season { spring, summer, autumn, winter };
```

- 这里 season 是枚举名称

- spring，summer 是 season 类型的值。

- 默认情况下 spring 为 0，summer为 1，依此类推。

不想使用默认值，可以在枚举声明时自定义值

```cpp
enum season 
{   spring = 4, 
    summer = 3, 
    autumn = 2,
    winter = 1
};
```

> 枚举这玩意我没用过一次，但看一些文章上说，在一些情况下枚举很有用，可能这就是大牛程序员和普通程序员的区别吧

## 强制转换

## 其他的一些转换方法

如果你打算在多次转换中使用同一个stringstream对象，记住再每次转换前要使用 clear() 方法；

在多次转换中重复使用同一个stringstream（而不是每次都创建一个新的对象）对象最大的好处在于效率。

stringstream对象的构造和析构函数通常是非常耗费CPU时间的。

### 在类型转换中使用模板

你可以轻松地定义函数模板来将一个任意的类型转换到特定的目标类型。例如，需要将各种数字值，如int、long、double等等转换成字符串，要使用以一个string类型和一个任意值t为参数的to_string()函数。to_string()函数将t转换为字符串并写入result中。使用str()成员函数来获取流内部缓冲的一份拷贝：


```cpp
template<class T>

void to_string(string & result,const T& t)

{undefined

 ostringstream oss;//创建一个流

oss<<t;//把值传递如流中

result=oss.str();//获取转换后的字符转并将其写入result
}
```

这样，你就可以轻松地将多种数值转换成字符串了：

to_string(s1,10.5);//double到string

to_string(s2,123);//int到string

to_string(s3,true);//bool到string

可以更进一步定义一个通用的转换模板，用于任意类型之间的转换。函数模板convert()含有两个模板参数out_type和in_value，功能是将in_value值转换成out_type类型：

template<class out_type,class in_value>

out_type convert(const in_value & t)

{undefined

stringstream stream;

stream<<t;//向流中传值

out_type result;//这里存储转换结果

stream>>result;//向result中写入值

return result;

}

这样使用convert()：

double d;

string salary;

string s=”12.56”;

d=convert<double>(s);//d等于12.56

salary=convert<string>(9000.0);//salary等于”9000”

结论

 

在过去留下来的程序代码和纯粹的C程序中，传统的<stdio.h>形式的转换伴随了我们很长的一段时间。但是，如文中所述，基于**stringstream的转换拥有类型安全和不会溢出这样抢眼的特性**，使我们有充足得理由抛弃<stdio.h>而使用<sstream>。<sstream>库还提供了另外一个特性—可扩展性。你可以通过重载来支持自定义类型间的转换。

一些实例：

stringstream通常是用来做数据转换的。



相比c库的转换，它更加安全，自动和直接。

 

例子一：基本数据类型转换例子 int转string

```cpp
# include <string>
# include <sstream>
# include <iostream> 

int main()
{
    std::stringstream stream;
    std:: string result;
    int i = 1000;
    stream << i;  // 将int输入流
    stream >> result;  // 从stream中抽取前面插入的int值
    std::cout << result << std::endl;  //  print the string "1000"
} 
```

例子二：除了基本类型的转换，也支持char *的转换。

```cpp
# include <sstream>
# include <iostream> 

int main()
{
    std::stringstream stream;
    char result[8] ;
    stream << 8888;  // 向stream中插入8888
    stream >> result;  // 抽取stream中的值到result
    std::cout << result << std::endl;  //  屏幕显示 "8888"
} 
```

例子三：再进行多次转换的时候，必须调用stringstream的成员函数clear()

```cpp
# include <sstream>
# include <iostream>
int main()
{
    std::stringstream stream;
    int first, second;
    stream<< "456";  // 插入字符串
    stream >> first;  // 转换成int
    std::cout << first << std::endl;
    stream.clear();  // 在进行多次转换前，必须清除stream
    stream <<  true;  // 插入bool值
    stream >> second;  // 提取出int
    std::cout << second << std::endl;
} 
```

## 类型判断

我们需要用到 `#include<typeinfo>` 中的 `typeid`

```cpp
#include<typeinfo>
#include<iostream>
using namespace std;
 
int main()
{
    int i;
    cout << typeid(i).name() << "\n";
    //输出结果为i(表示int),即类型的名称首字母 
    return 0;
}
```
