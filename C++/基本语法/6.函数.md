# 函数

- c++ 中定义一个函数

```c++
return_type function_name( parameter list )
{
   body of the function
}
```

- 和 c 语言一样，当你在一个源文件中定义函数且在另一个文件中调用函数时，函数声明是必需的。在这种情况下，你应该在调用函数的文件顶部声明函数。

```c++
return_type function_name( parameter list );
```

## 函数传参

| 调用类型 | 描述                                                           |
|:---- |:------------------------------------------------------------ |
| 传值调用 | 该方法把参数的实际值赋值给函数的形式参数。在这种情况下，修改函数内的形式参数对实际参数没有影响。             |
| 指针调用 | 该方法把参数的地址赋值给形式参数。在函数内，该地址用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。 |
| 引用调用 | 该方法把参数的引用赋值给形式参数。在函数内，该引用用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。 |

## 函数参数的默认值

- c++ 的函数参数可以指定默认值，当没有某个参数没有传递值过来，就使用默认值执行函数
- C++规定，默认参数只能放在形参列表的最后，而且一旦为某个形参指定了默认值，那么它后面的所有形参都必须有默认值

```c++
void func(int a, int b=10, int c=20){ }
void func(int a, int b, int c=20){ }
```

- 在以后设计类时你将发现，通过使用默认参数，可以减少要定义的析构函数、方法以及方法重载的数量。

```c++
#include <iostream>
using namespace std;

int sum(int a, int b=20)
{
  int result;

  result = a + b;

  return (result);
}

int main ()
{
   // 局部变量声明
   int a = 100;
   int b = 200;
   int result;

   // 调用函数来添加值
   result = sum(a, b);
   cout << "Total value is :" << result << endl;

   // 再次调用函数
   result = sum(a); // 没有参数 b 的值
   cout << "Total value is :" << result << endl;

   return 0;
}
```

### 到底在声明中还是定义中指定默认参数

先看一个例子，定义和声明都在同一个文件中，这样编译运行会报错

```c++
#include <iostream>
using namespace std;
void func(int a, int b = 10, int c = 36);
int main(){
    func(99);
    return 0;
}
void func(int a, int b = 10, int c = 36){
    cout<<a<<", "<<b<<", "<<c<<endl;
}
```

当把定义和声明分开，放在两个文件中

```c++
// main.cpp
#include <iostream>
using namespace std;
void func(int a, int b = 10, int c = 20);
int main(){
    func(99);
    return 0;
}
// utils.cpp
#include <iostream>
using namespace std;
void func(int a, int b = 10, int c = 36){
    cout<<a<<", "<<b<<", "<<c<<endl;
}
```

这样就可编译运行成功。

- 这是因为C++ 规定，在给定的作用域中只能指定一次默认参数。

- C语言有四种作用域，分别是函数原型作用域、局部作用域（函数作用域）、块作用域、文件作用域（全局作用域），C++ 也有这几种作用域。
