# 地址与指针

- 什么是指针？
- 怎么定义一个指针？
- 指针常用的作用？

## 1.什么是指针？

指针也就是内存地址，指针变量是用来存放内存地址的变量。

![图片来源于菜鸟教程，感谢菜鸟教程](https://images-1302683597.cos.ap-nanjing.myqcloud.com/images/StudyNotes/C/images_20220327230423.png)

## 2.如何定义指针？

前面提到，指针也就是内存地址，指针变量是用来存放内存地址的变量。另外，指针是一个变量，是变量就要有自己的类型。

现在，我们心里的问题就是：

- 指针的类型是什么？

- 如何指定一个变量为指针变量？
- 如何获取一个变量的地址，并将地址赋值给一个指针？

解决后两个问题，我们需要使用两个符号  `*` 和 `&` 

```c
//定义普通变量
float a = 99.5, b = 10.6;
char c = '@', d = '#';
//定义指针变量
float *p1 = &a; // 定义一个 float 类型的指针
char *p2 = &c; // 定义一个 char 类型的指针
//修改指针变量的值
p1 = &b; // 不用添加 * 
p2 = &d;
```

关于指针的类型

```c
int    *ip;    /* 一个整型的指针 */
double *dp;    /* 一个 double 型的指针 */
float  *fp;    /* 一个浮点型的指针 */
char   *ch;    /* 一个字符型的指针 */
```

所有实际数据类型，不管是整型、浮点型、字符型，还是其他的数据类型，对应指针的值的类型都是一样的，都是一个代表内存地址的长的十六进制数。

不同数据类型的指针之间唯一的不同是，指针所指向的变量或常量的数据类型不同。

## 3.指针常用作用

指针变量存储了数据的地址，通过指针变量能够获得该地址上的数据。

完成这个操作需要使用 `*` 。

```c
#include <stdio.h>
int main(){
    int a = 15;
    int *p = &a;
    printf("%d, %d\n", a, *p);  //两种方式都可以输出a的值
    return 0;
}
```

这里 `a` 和 `*p` 是等价的，一个直接，一个间接。

关于 `*` 我们可以做一个总结

- 表示乘法，例如`int a = 3, b = 5, c;  c = a * b;`，这是最容易理解的。
- 表示定义一个指针变量，以和普通变量区分开，例如`int a = 100;  int *p = &a;`。
- 表示获取指针指向的数据，是一种间接操作，例如`int a, b, *p = &a;  *p = 100;  b = *p;`。